# LSTM Commodity Price Forecasting Frontend

Next.js 16 (App Router) frontend for visualising and exploring commodity price
forecasts generated by an LSTM model. The UI is being assembled with shadcn/ui
primitives, React Hook Form, Zod validation and Recharts for charting. The
repository also ships with the OpenAPI contract for the forecasting service.

> Status: early scaffolding (login flow + protected routes are wired, dashboard
> visualisations are in progress).

## Tech Stack

- Next.js 16 + React 19 with App Router and Server Components
- Tailwind CSS v4 + shadcn/ui for consistent design tokens
- NextAuth credential flow with JWT session checks in middleware
- React Hook Form + Zod validation for all forms
- Recharts for line/area forecasts (data hooks landing next)
- Biome for linting/formatting

## Prerequisites

- Node.js ≥ 20.12
- `pnpm` ≥ 9 (project standard)
- Optional: Bun for faster local installs, but `pnpm` is the source of truth

## Environment Variables

Create a `.env.local` file at the repo root and populate the following keys
before running the app. Values depend on your backend deployment:

```
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-long-random-string
FORECASTING_API_BASE_URL=https://api.your-domain.com
FORECASTING_API_CLIENT_ID=...
FORECASTING_API_CLIENT_SECRET=...
```

The OpenAPI description under `LSTM Commodity Price Forecasting API.yaml`
documents every available endpoint if you need to confirm the payloads expected
by the backend.

## Getting Started

```bash
# install deps
pnpm install

# run the dev server
pnpm dev

# run a production build locally
pnpm build && pnpm start
```

Then visit [http://localhost:3000](http://localhost:3000). The login page lives
at `/login` and the `/dashboard` route is protected by `src/middleware.ts`
pending a valid NextAuth session.

## Helpful Scripts

| Command        | Description                                   |
| -------------- | --------------------------------------------- |
| `pnpm dev`     | Start Next.js in development mode             |
| `pnpm build`   | Create an optimized production build          |
| `pnpm start`   | Serve the production build                    |
| `pnpm lint`    | Run Biome checks (lint + type-aware rules)    |
| `pnpm format`  | Format the codebase with Biome                |

## Project Structure

```
src/
  app/
    login/            # Credentials login form (React Hook Form + Zod)
    dashboard/        # Forecasting dashboard (WIP)
  components/ui/      # shadcn-style primitives shared across screens
  lib/                # Utility helpers (formatters, constants, etc.)
  middleware.ts       # Guards /dashboard via NextAuth JWT
public/               # Static assets + icons
LSTM Commodity Price Forecasting API.yaml  # Backend OpenAPI contract
```

## API Integration Notes

- All communication with the forecasting backend should go through a thin API
  client (to be added under `src/lib/`), using the base URL above.
- Use the `/api/auth/token/` endpoint to fetch access tokens before calling
  `/api/commodities/`, `/api/historical/`, or `/api/forecast/`.
- Keep forecasts and historical data queries cache-friendly; SWR/React Query
  can be added later if the dashboard needs automatic revalidation.

## Development Tips

- Stick to shadcn/ui components for layout consistency (import via
  `@/components/ui/*`).
- Run `pnpm lint` before opening a PR to keep Biome happy.
- Prefer server components for data fetching pages; colocate client hooks only
  where interactivity (forms, charts) requires it.
- Keep the README in sync as the dashboard gains charts and data tables so new
  contributors know the project state at a glance.
